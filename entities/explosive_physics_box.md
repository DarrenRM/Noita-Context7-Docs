---
title: Explosive Physics Box
category: data/entities
---

# Explosive Physics Box

This document details the configuration for an explosive physics box entity in Noita, designed to detonate when damaged or destroyed.

## Entity Definition

The core entity is defined as `physics_box_explosive.xml`. It inherits from `base_item_physics2.xml` and includes components for physics, damage, and explosion behavior.

```xml
<Entity tags="mortal" >
  <!-- mortal tag is required for the entity to be able to explode -->
  ...
</Entity>
```

## Key Components

### Base Component (`Base`)

This component defines the fundamental physics and visual properties of the entity.

*   **`file="data/entities/base_item_physics2.xml"`**: Inherits physics properties from a base physics item.
*   **`PhysicsImageShapeComponent`**:
    *   `image_file="data/props_gfx/tnt.png"`: Specifies the visual sprite for the explosive box.
    *   `material="wood_prop"`: Defines the physical material properties.

### Damage Component (`DamageModelComponent`)

This component governs how the entity receives and reacts to damage.

*   **`hp="1.0"`**: The entity's health points.
*   **`falling_damage_damage_max="1.2"` / `falling_damage_damage_min="0.1"`**: Defines the range of damage dealt by falling.
*   **`falling_damage_height_max="250"` / `falling_damage_height_min="70"`**: Sets the height thresholds for falling damage.
*   **`fire_damage_amount="0.4"`**: The amount of damage taken from fire.
*   **`critical_damage_resistance="1"`**: Indicates resistance to critical damage.
*   **`damage_multipliers`**:
    *   `melee="0.1"`: Reduces melee damage taken.

### Explode on Damage Component (`ExplodeOnDamageComponent`)

This is the primary component responsible for the explosive behavior.

*   **`explode_on_death_percent="1"`**: Guarantees an explosion when the entity dies.
*   **`explode_on_damage_percent="0.0"`**: The entity will not explode solely from taking damage (unless it leads to death).
*   **`physics_body_modified_death_probability="1"`**: If the physics body is modified (e.g., by damage), there's a 100% chance it will trigger the death/explosion sequence.
*   **`physics_body_destruction_required="0.04"`**: A small amount of physics body destruction (4%) is required to trigger the explosion.

#### Explosion Configuration (`config_explosion`)

This nested element defines the parameters of the explosion itself.

*   **`damage="2.5"`**: The base damage dealt by the explosion.
*   **`camera_shake="40"`**: The intensity of camera shake for players near the explosion.
*   **`explosion_radius="40"`**: The radius of the explosion's effect.
*   **`explosion_sprite="data/particles/explosion_032.xml"`**: The visual particle effect for the explosion.
*   **`create_cell_probability="50"`**: 50% chance to create environmental cells (e.g., debris).
*   **`hole_enabled="1"`**: Enables the creation of holes in the environment.
*   **`ray_energy="4000000"`**: The energy of the explosion's damaging rays.
*   **`load_this_entity="data/entities/particles/particle_explosion/main_gunpowder_medium.xml"`**: Loads a specific entity for the explosion's visual effects.
*   **`damage_mortals="1"`**: The explosion will damage other mortal entities.
*   **`physics_explosion_power.min="1.5"` / `physics_explosion_power.max="2.2"`**: The minimum and maximum force applied to physics objects by the explosion.
*   **`physics_throw_enabled="1"`**: Physics objects can be thrown by the explosion.
*   **`sparks_enabled="1"`**: Sparks are generated by the explosion.
*   **`stains_enabled="1"`**: Stains are left by the explosion.
*   **`delay.min="1"` / `delay.max="4"`**: The explosion has a random delay between 1 and 4 frames.
*   **`audio_event_name="explosions/box"`**: The sound effect played during the explosion.