---
title: Orb Teleportation Projectile
category: entities
---

# Orb Teleportation Projectile

This document details the configuration of the `orb_tele.xml` entity, which defines a projectile with teleportation effects. This projectile is designed to home in on targets and, upon death or collision, trigger a teleportation effect on enemies.

## Key Components and Attributes

### Base Projectile (`<Base file="data/entities/base_projectile.xml">`)

This component inherits fundamental projectile properties.

*   **`VelocityComponent`**:
    *   `gravity_y="0"`: The projectile is not affected by gravity.
    *   `air_friction="-0.1"`: A slight negative air friction, suggesting it might gain a tiny bit of speed in the air, or maintain its speed more effectively.
    *   `mass="0.05"`: A very low mass, indicating it's lightweight.

### Homing Behavior (`<HomingComponent>`)

This projectile actively seeks out targets.

*   `target_tag="prey"`: The projectile will target entities tagged as "prey".
*   `homing_targeting_coeff="7"`: A high coefficient, meaning the projectile will aggressively steer towards its target.
*   `detect_distance="350"`: The maximum distance at which the projectile can detect and lock onto a target.
*   `homing_velocity_multiplier="1.0"`: The homing behavior does not alter the projectile's base speed.

### Projectile Mechanics (`<ProjectileComponent>`)

Defines the core behavior and effects of the projectile.

*   `lob_min="0.8"`, `lob_max="1.0"`: Controls the arc of the projectile. These values suggest a relatively straight trajectory with minimal lobbing.
*   `speed_min="100"`, `speed_max="120"`: The projectile travels at a moderate speed.
*   `die_on_low_velocity="0"`: The projectile will not die if its velocity drops too low.
*   `on_death_explode="1"`: The projectile explodes when it dies (e.g., after its lifetime expires or on collision).
*   `on_death_gfx_leave_sprite="0"`: The projectile's sprite does not remain after death.
*   `on_lifetime_out_explode="1"`: The projectile explodes when its lifetime runs out.
*   `explosion_dont_damage_shooter="1"`: The explosion caused by this projectile will not harm the entity that fired it.
*   `damage="0.3"`: The projectile itself deals a small amount of damage.
*   `damage_game_effect_entities="data/entities/misc/effect_teleportation_enemy.xml,"`: This is a crucial attribute. When the projectile hits an enemy or dies, it applies the `effect_teleportation_enemy.xml` effect.
*   `on_collision_die="1"`: The projectile dies upon colliding with anything.
*   `lifetime="150"`: The projectile exists for 150 frames before expiring.

#### Explosion Configuration (`<config_explosion>`)

Details the effects of the projectile's explosion.

*   `never_cache="1"`: The explosion effect will not be cached, ensuring it's always generated fresh.
*   `camera_shake="0.5"`: Causes a moderate amount of camera shake upon explosion.
*   `explosion_radius="1"`: The radius of the explosion effect.
*   `explosion_sprite="data/particles/explosion_016_plasma.xml"`: The visual sprite used for the explosion.
*   `create_cell_probability="1"`: A cell (likely a particle or debris) is always created.
*   `create_cell_material="plasma_fading"`: The material of the created cell.
*   `ray_energy="10000"`: High energy for potential ray interactions.
*   `hole_destroy_liquid="1"`: The explosion can destroy liquids.
*   `hole_enabled="1"`: The explosion leaves a hole in surfaces.
*   `damage="0.1"`: The explosion itself deals a very small amount of damage.
*   `hole_image="data/temp/explosion_hole.png"`: The image used for the explosion hole.
*   `explosion_sprite_emissive="1"`, `explosion_sprite_additive="1"`: The explosion sprite is emissive and uses additive blending for a bright, glowing effect.
*   `particle_effect="0"`: No specific particle effect is directly tied to the explosion itself.
*   `damage_mortals="1"`: The explosion can damage living entities.
*   `physics_explosion_power.min="0"`, `physics_explosion_power.max="0"`: The explosion has no physics force.
*   `shake_vegetation="1"`: The explosion can shake vegetation.
*   `sparks_enabled="1"`: Sparks are generated by the explosion.
*   `spark_material="plasma_fading"`: The material of the sparks.
*   `sparks_count_min="12"`, `sparks_count_max="16"`: The number of sparks generated.
*   `light_fade_time="1.2"`: The duration of the light effect.
*   `light_r="35"`, `light_g="135"`, `light_b="140"`: The color of the light emitted by the explosion (a bluish-cyan).
*   `stains_enabled="1"`: The explosion leaves stains on surfaces.
*   `stains_image="data/temp/explosion_stain.png"`: The image used for the stains.

### Visuals (`<SpriteComponent>`)

Defines the appearance of the projectile.

*   `image_file="data/projectiles_gfx/orb_blue.xml"`: Uses a specific sprite definition for a blue orb.
*   `rect_animation="fireball"`: Applies a "fireball" animation to the sprite.
*   `emissive="1"`, `additive="1"`: The sprite is emissive and uses additive blending, making it glow brightly.
*   `offset_x="5"`, `offset_y="5"`: Offsets the sprite's position.

### Lighting (`<LightComponent>`)

Adds a light source to the projectile.

*   `radius="150"`: The radius of the light emitted by the projectile.
*   `r="40"`, `g="18"`, `b="220"`: The color of the light (a deep blue).

### Particle Emitter (`<SpriteParticleEmitterComponent>`)

Generates particles around the projectile.

*   `sprite_file="data/particles/teleparticle.xml"`: Uses a specific particle sprite for teleportation effects.
*   `lifetime="0.4"`: The particles have a short lifespan.
*   `color.r="1" color.g="1" color.b="1" color.a="1"`: Particles start fully opaque white.
*   `color_change.a="-0.2"`: Particles fade out over time.
*   `scale.x="1" scale.y="0.2"`: Particles are wider than they are tall.
*   `scale_velocity.x="-0.2" scale_velocity.y="1"`: Particles shrink horizontally and grow vertically.
*   `emission_interval_min_frames="1"`, `emission_interval_max_frames="4"`: Particles are emitted frequently.
*   `count_min="1"`, `count_max="3"`: A small number of particles are emitted per interval.
*   `randomize_position.min_x="-5"`, `randomize_position.max_x="5"`: Particles are emitted with slight positional randomness.
*   `randomize_velocity.min_y="-40"`, `randomize_velocity.max_y="40"`: Particles are given a random vertical velocity.
*   `randomize_lifetime.min="-0.45"`, `randomize_lifetime.max="0.2"`: Particle lifetimes are randomized.

### Audio (`<AudioComponent>`, `<AudioLoopComponent>`)

Handles sound effects for the projectile.

*   `file="data/audio/Desktop/projectiles.bank"`: Specifies the audio bank.
*   `event_root="projectiles/magic"`: Sets the root event for general projectile sounds.
*   `event_name="projectiles/magic_orb/loop"`: A looping sound effect for the orb.
*   `auto_play="1"`: The looping sound starts automatically.

### Variable Storage (`<VariableStorageComponent>`)

Stores a variable related to the projectile.

*   `name="projectile_file"`: The name of the variable.
*   `value_string="data/entities/projectiles/orb_tele.xml"`: Stores the path to this entity's XML file.